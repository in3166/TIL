# 회원 목록, map, filter
```js
var users = [
  { id: 1, name: QW, age: 33 },
  { id: 2, name: ER, age: 11 },
  { id: 3, name: RT, age: 56 },
  { id: 4, name: TY, age: 12 },
  { id: 5, name: YU, age: 35 },
  { id: 6, name: UI, age: 23 },
];
```
## 1. 명령형 코드 (일반적 코드)
### 1) 30세 이상인 users 담기
```js
var temp_users= [];
for (let i = 0; i < users.length; i++) {
  if(users[i].age >= 30) {
    temp_users.push(users[i]);
  } 
}
```

### 2) 30세 이상인 users의 names 수집
```js
var names = [];
for(let i = 0; i< temp_users.lenght; i++){
  names.push(temp_users[i].name);
}
```

### 3) 30세 미만인 users를 담기
```js
var temp_users= [];
for (let i = 0; i < users.length; i++) {
  if(users[i].age < 30) {
    temp_users.push(users[i]);
  } 
```

### 4) 30세 미만인 users의 ages를 수집
```js
var ages = [];
for(let i = 0; i< temp_users.lenght; i++){
  ages.push(temp_users[i].age);
}
```



## 2. `_filter`, `_map`으로 리팩토링
- 함수형 스타일 (응용형 함수, 컬렉션 다루는 함수)로 변경
  - 응용형 함수: 함수가 함수를 받아 원하는 시점에 해당하는 함수가 알고있는 인수를 적용 (적용형 프로그래밍) (`_filter`)
  - 고차 함수: 함수를 인자로 받거나 리턴, 함수안에서 함수를 실행하는 함수 
- 30세 이상과 미만의 코드의 중복 제거, 조건부만 다름
- 함수형 프로그래밍: 원래 값을 직접 변경하지 않고 새로운 값을 리턴
- 조건부의 중복 제거: 함수형 프로그래밍에서 중복 제거나 추상화할 때 '함수'를 사용 (추상화의 단위가 객체, 클래스, 메서드가 아니라 함수)

### 1) `_filter`
```js
function _filter(list, predi) {
  var news_list= [];
  for (let i = 0; i < list.length; i++) {
    if(predi(list[i])) {
      news_list.push(list[i]);
    } 
   return news_list;
}

var over_30 = _filter(users, function(user){ return user.age >= 30; }
var under_30 = _filter(users, function(user){ return user.age < 30; }
```
- 위 `_filter` 함수는 다른 경우에도 사용 가능 (재사용성, 다형성)

### 2) `_map`
- mapper: 무엇을 수집해서 넣을 것인지 완전히 위임
- 데이터 형태가 어떻게 생겼는지 전혀 보이지 않음. - 관심사 분리 - 재사용성
```js
function _map(list, mapper){
  var new_list = [];
  for(let i = 0; i< list.lenght; i++){
    new_list.push(mapper(list[i]));
  }
  return new_list;
}

var names = _map(over_30, function(user) { return user.name});
var ages = _map(under_30, function(user) { return user.age});
```

- 함수형 프로그래밍에선 대입문 최소화 
  - 값(데이터, 객체)을 만들어 놓고 문장을 내려가면 변형하는 것이 아니라 함수를 통과하며 한 번에 값을 새롭게 만들어나가는 방식
  - 대입문 사이에 새로운 변경(작업)이 생길 여지 방지 (위의 `var under_30`과 `var ages` 사이에 `under_30`을 조작할 가능성)

- 대입문 대신 **함수 중첩**
```js
_mape(
  _filter(users, function(user){ return user.age >= 30; }),
  function(user) { return user.name}
)

_mape(
  _filter(users, function(user){ return user.age < 30; }),
  function(user) { return user.age}
)

```

## 3. each 만들기
### 1) `_each`로 `_filter`, `_map` 중복 제거
```js
```



#
